# Machine config patch for node "worker01" (a dell optiplex 7070)

# You can write partial Talos machine config here which will override the default
# Talos machine config for this machine generated by Omni.
machine:
  kubelet:
    extraConfig:
      maxPods: 640
    extraMounts:
      - destination: /var/local-path-provisioner
        type: bind
        source: /var/local-path-provisioner
        options:
          - bind
          - rshared
          - rw
  network:
    hostname: "worker01"
  install:
        disk: /dev/sdb # The disk used for installations.
        # Allows for supplying extra kernel args via the bootloader.
        extraKernelArgs:
            - cpufreq.default_governor=performance
            - intel_idle.max_cstate=0
            - mitigations=off
            - iommu.passthrough=1
cluster:
    allowSchedulingOnControlPlanes: true